<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> é‚£ä¸ªLLDBä½ çœŸçš„äº†è§£å— Â· çº¢çº¸</title><meta name="description" content="é‚£ä¸ªLLDBä½ çœŸçš„äº†è§£å— - HongZhi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.zhz.io/atom.xml" title="çº¢çº¸"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nianran" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">é‚£ä¸ªLLDBä½ çœŸçš„äº†è§£å—</h1><div class="post-info">Jul 5, 2018</div><div class="post-content"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ›¾ç»æœ‰ä¸ªç¬‘è¯ï¼ˆèº«è¾¹çš„çœŸç›¸ï¼‰ã€‚æœ‰æ¬¡ï¼Œæˆ‘è¦å›å»å†™ä»£ç çš„æ—¶å€™å‘¢ï¼Œæˆ‘æ— æ„é—´è¯´äº†ä¸€å¥â€˜æˆ‘ä»¬å›å»å†™BUGå§â€™ã€‚ç„¶åä¼ ä¸ºç»„å†…ä½³è¯ã€‚<br>BUGå¯¹äºæˆ‘ä»¬ç¨‹åºå‘˜æ¥è¯´æ˜¯æ— æ‰€ä¸åœ¨çš„ï¼Œä½ æƒ³ä½ çš„ä»£ç æ²¡æœ‰BUGï¼Œé™¤éä½ æ²¡å†™ä»£ç ã€‚å¯¹äºæˆ‘ä»¬iOS or macOS å¼€å‘çš„åŒå­¦ä»¬æ¥è¯´ï¼Œè‹¹æœä¸ºæˆ‘ä»¬å‡†å¤‡äº†ä¸€ä¸ªéå¸¸è‰¯å¥½çš„Debugçš„ç”Ÿæ€ç¯å¢ƒï¼ˆLLDBï¼‰è¿™ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿéå¸¸å¿«é€Ÿï¼Œæœ‰æ•ˆçš„å»æ’é™¤ï¼Œè§£å†³ä¸€äº›é—®é¢˜ã€‚</p>
<p>é‚£ä¹ˆæœ¬æ–‡ä¸»è¦ä»¥æœ¬äººå¹³æ—¶çš„å¼€å‘ä¹ æƒ¯/<a href="https://developer.apple.com/videos/play/wwdc2018/412/" target="_blank" rel="noopener">WWDC 2018 Session 412</a>/<a href="https://store.raywenderlich.com/products/advanced-apple-debugging-and-reverse-engineering" target="_blank" rel="noopener">Advaced Apple Debug</a>ä¹¦ä¸­éƒ¨åˆ†å†…å®¹è¿›è¡Œå¦‚ä¸‹æ€»ç»“äº†ä¸€äº›LLDBçš„å‘½ä»¤</p>
<a id="more"></a>
<h2 id="LLDB"><a href="#LLDB" class="headerlink" title="LLDB"></a>LLDB</h2><p>ä½œä¸ºiOSå¼€å‘è€…ï¼Œæˆ‘ä»¬ç»å¸¸å›å»è®¾ç½®ä¸€äº›æ–­ç‚¹ï¼Œå½“ç¨‹åºè¿è¡Œåˆ°è¿™ä¸€è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥LLDBçš„æ§åˆ¶å°ï¼Œå»æ‰“å°ä¸€äº›ä¿¡æ¯ï¼Œæ¥è¾…ä½æˆ‘ä»¬è¿›è¡Œè°ƒè¯•å·¥ä½œã€‚ä½†æ˜¯æˆ‘ä»¬å¹³å¸¸åªä¼šå»ä½¿ç”¨p/eå‘½ä»¤å§ï¼Ÿï¼ˆè‡³å°‘æˆ‘ä»¥å‰æ˜¯è¿™æ ·çš„ã€‚ï¼‰ä½†æ˜¯æˆ‘ä»¬ä»Šå¤©å‡†å¤‡æ¥ç³»ç»Ÿçš„å­¦ä¹ ä¸€ä¸‹LLDBé‚£äº›æ¯”è¾ƒæœ‰ä½œç”¨çš„å‘½ä»¤ã€‚åœ¨LLDBæ§åˆ¶é¢æ¿ä¸­æ‰“å…¥helpï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€å †çš„å‘½ä»¤ã€‚ä»Šå¤©æˆ‘å‡†å¤‡æ‹¿å‡ºå…¶ä¸­å‡ ä¸ªç”¨çš„æ¯”è¾ƒå¤šçš„æ¥è¿›è¡Œè¯´æ˜ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Demoä»£ç ï¼Œä¸‹é¢çš„è¯´æ˜éƒ½ä¼šå›´ç»•è¿™ä¸ªä»£ç è¿›è¡Œæè¿°</span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">HZViewController</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *string;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) HZModel *model;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">HZViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<h2 id="expression"><a href="#expression" class="headerlink" title="expression"></a>expression</h2><p>expressionä½œä¸ºæˆ‘ä»¬æœ€å¸¸ç”¨çš„æŒ‡ä»¤ä¹‹ä¸€ï¼Œä»–çš„ä½œç”¨<em>æ‰§è¡Œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¹¶å°†è¡¨è¾¾å¼çš„ç»“æœä½œä¸ºç»“æœè¿›è¡Œè¾“å‡º</em>ï¼Œexpressionçš„å®Œæ•´è¯­æ³•<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expression &lt;cmd-options&gt; -- &lt;expr&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li><cmd-options>: å‘½ä»¤å‚æ•°é€‰é¡¹ï¼Œå¯ä»¥æ ¹æ®<em>help expression</em>è¿›è¡ŒæŸ¥çœ‹ä»–æœ‰å“ªäº›å‘½ä»¤é›†åˆã€‚</cmd-options></li>
<li><expr>: è¡¨è¾¾å¼éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ä»£ç éƒ¨åˆ†<blockquote>
<p>expressionçš„ç®€å†™ä¸ºeï¼Œå½“ä½ ä½¿ç”¨é»˜è®¤å‚æ•°çš„æ—¶å€™å¯ä»¥ä¸ç”¨æ‰“â€“è¿™ä¸ªå¤šä½™çš„ç¬¦å·ï¼Œä½†æ˜¯å½“ä½ ä½¿ç”¨å‚æ•°çš„æ—¶å€™å°±å¿…é¡»åŠ ä¸Šã€‚ä¸è¿‡ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬æ— éœ€æ‰‹åŠ¨å»è¿›è¡Œè®¾ç½®ã€‚<br>OKï¼Œæˆ‘ä»¬æ¥å®è·µä¸€ä¸‹ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æœ€åˆStringå¹¶æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼ˆeä¹Ÿå¯ä»¥è¢«å½“åšæ˜¯ä¸€ä¸ªæ‰“å°å‘½ä»¤æ¥æ‰“å°ä¿¡æ¯ã€‚ï¼‰</span></div><div class="line">(lldb) e <span class="keyword">self</span>.string</div><div class="line">(<span class="built_in">NSString</span> *) $<span class="number">6</span> = <span class="literal">nil</span></div><div class="line"><span class="comment">// è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å»æ‰§è¡Œä¸€æ®µè¡¨è¾¾å¼ï¼Œå»ä¿®æ”¹stringçš„å˜é‡</span></div><div class="line">(lldb) e <span class="keyword">self</span>.string = <span class="string">@"TestString"</span></div><div class="line">(<span class="built_in">NSTaggedPointerString</span> *) $<span class="number">7</span> = <span class="number">0xbf4c3b53c7710e1d</span></div><div class="line"><span class="comment">// æˆ‘ä»¬å»æ‰“å°è¿™ä¸ªå€¼</span></div><div class="line">(lldb) po <span class="keyword">self</span>.string</div><div class="line">TestString</div></pre></td></tr></table></figure>
</blockquote>
</expr></li>
</ul>
<h2 id="print"><a href="#print" class="headerlink" title="print"></a>print</h2><p>printç›¸å¯¹æ¥è¯´å¾ˆç®€å•ï¼Œå…¶å®ä»–å°±æ˜¯<em>expression â€“ <expr></expr></em>å°±æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„eï¼Œå…¶ç®€å†™ä¸ºpã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> &lt;expr&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(lldb) p <span class="keyword">self</span>.string = <span class="string">@"asd"</span></div><div class="line">(<span class="built_in">NSTaggedPointerString</span> *) $<span class="number">12</span> = <span class="number">0xbf623d41451e6fa4</span> <span class="string">@"\372\346Q\324#\366"</span></div><div class="line">(lldb) po <span class="keyword">self</span>.string</div><div class="line">asd</div></pre></td></tr></table></figure>
<h2 id="po"><a href="#po" class="headerlink" title="po"></a>po</h2><p>å¦‚æœexpressionä¸åŠ ä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆä»–æ‰“å°å‡ºæ¥çš„ä¿¡æ¯éƒ½æ˜¯æŒ‡é’ˆçš„ä¿¡æ¯ã€‚è¿™å¯¹äºæˆ‘ä»¬è°ƒè¯•æ¥è¯´æ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ã€‚<br>æ‰€ä»¥expressionæœ‰ä¸€ä¸ª-Oçš„å‚æ•°ï¼Œæ˜¯ç”¨æ¥æ‰“å°å‡½æ•°å¯¹è±¡çš„ï¼Œå¹¶ä¸”ä»–çš„æè¿°å³ä¸ºï¼Œæ‰“å°å…·æœ‰è¯­è¨€çš„æè¿°æ€§APIã€‚<br>poå…¶å®å°±æ˜¯<em>expression -O <expr></expr></em>çš„ç®€å†™ï¼ŒXcodeå›¢é˜Ÿå¾ˆäººæ€§åŒ–çš„åŠ å…¥äº†è¿™ä¸ªä¸œè¥¿ã€‚å½“ç„¶ä¸Šé¢çš„æè¿°æ€§APIå°±æ˜¯æŒ‡çš„<em>description</em>å’Œ<em>debugDescription</em>äº†ã€‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä¸ºä¸Šé¢çš„ä»£ç åŠ å…¥ä»¥ä¸‹ä»£ç  HZViewController.mä¸­</span></div><div class="line">- (<span class="built_in">NSString</span> *)debugDescription &#123;</div><div class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@" ç±»å:%@ \n å±æ€§åˆ—è¡¨ï¼š%@"</span>,<span class="built_in">NSStringFromClass</span>(HZViewController.class),HZViewController.hz_propertyKeys];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// LLDBè°ƒè¯•è¾“å‡º</span></div><div class="line">(lldb) po <span class="keyword">self</span> <span class="comment">// å°è¯•ä½¿ç”¨poå‘½ä»¤è¿˜è¾“å‡ºself</span></div><div class="line"> ç±»å:HZViewController </div><div class="line"> å±æ€§åˆ—è¡¨ï¼š(</div><div class="line">    string,</div><div class="line">    model</div><div class="line">)</div><div class="line">(lldb) p <span class="keyword">self</span> </div><div class="line">(HZViewController *) $<span class="number">1</span> = <span class="number">0x00007f934e50f4d0</span></div><div class="line">(lldb) e -O -- <span class="keyword">self</span> <span class="comment">// å¯¹æ¯”äºpoæ˜¯æ²¡æœ‰ä»»ä½•åŒºåˆ«çš„</span></div><div class="line"> ç±»å:HZViewController </div><div class="line"> å±æ€§åˆ—è¡¨ï¼š(</div><div class="line">    string,</div><div class="line">    model</div><div class="line">)</div></pre></td></tr></table></figure></p>
<h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><p>å…¶å®è¿˜æœ‰ä¸€ä¸ªæ‰“å°å‘½ä»¤æ˜¯call,å¯¹æ¯”äºå…¶ä»–æ‰“å°å‘½ä»¤æ¥è¯´ï¼Œä»–æœ‰ä¸€ä¸ªä¼˜åŠ¿åœ¨äºï¼Œä»–èƒ½æ‰§è¡Œå¤šè¡Œä»£ç ï¼ˆä½†æ˜¯æˆ‘è§‰å¾—æ¯”è¾ƒé¸¡è‚‹ï¼Œæˆ‘ä»æ¥éƒ½æ²¡ç”¨è¿‡ï¼‰ã€‚<br>å¦‚æœå•çº¯ä½¿ç”¨<em>call <expr></expr></em>çš„è¯ä»–è·Ÿe/pæ— å·®å¼‚ã€‚ä½†æ˜¯ä½ å•ç‹¬ä½¿ç”¨callï¼Œå°±å¯ä»¥é”®å…¥å¤šè¡Œå‡½æ•°ï¼Œæ¥æ‰§è¡Œä¸€äº›å®šåˆ¶åŒ–çš„éœ€æ±‚ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªã€‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">(lldb) po <span class="keyword">self</span>.view.backgroundColor</div><div class="line"> <span class="literal">nil</span></div><div class="line">(lldb) call <span class="comment">// è¿›å…¥å‡½æ•°è¾“å…¥æ§åˆ¶</span></div><div class="line">Enter expressions, then terminate with an empty line to evaluate:</div><div class="line"><span class="number">1</span> <span class="keyword">if</span> (<span class="keyword">self</span>.view.backgroundColor == <span class="literal">nil</span>) &#123;</div><div class="line"><span class="number">2</span> <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line"><span class="number">3</span> &#125;</div><div class="line">(lldb) po <span class="keyword">self</span>.view.backgroundColor</div><div class="line"><span class="built_in">UIExtendedGrayColorSpace</span> <span class="number">1</span> <span class="number">1</span></div><div class="line">(lldb) call <span class="keyword">self</span>.view.backgroundColor</div><div class="line">(<span class="built_in">UICachedDeviceWhiteColor</span> *) $<span class="number">10</span> = <span class="number">0x0000600001c46070</span></div><div class="line">(lldb) e <span class="keyword">self</span>.view.backgroundColor</div><div class="line">(<span class="built_in">UICachedDeviceWhiteColor</span> *) $<span class="number">11</span> = <span class="number">0x0000600001c46070</span></div></pre></td></tr></table></figure></p>
<h2 id="p-e-po-callåŒºåˆ«"><a href="#p-e-po-callåŒºåˆ«" class="headerlink" title="p/e/po/callåŒºåˆ«"></a>p/e/po/callåŒºåˆ«</h2><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä¸»è¦åŒºåˆ«</th>
<th>å‡½æ•°æç¤º</th>
</tr>
</thead>
<tbody>
<tr>
<td>e</td>
<td>æ‰“å°å±æ€§ï¼ˆåŸºç¡€ç±»å‹ï¼šåŒ…å«å‡½æ•°ç±»å‹å’Œå˜é‡å€¼ï¼Œå¯¹è±¡ç±»å‹ï¼šåŒ…å«å‡½æ•°æŒ‡é’ˆï¼‰</td>
<td>æ²¡æœ‰å‘½ä»¤è¡Œæé†’ï¼Œå®Œå…¨å±äºç›²æ‰“</td>
</tr>
<tr>
<td>p</td>
<td>åŒe</td>
<td>ç»ˆç«¯ä¼šæ ¹æ®å½“å‰å †æ ˆï¼Œæç¤ºå±æ€§/å‡½æ•°ä¿¡æ¯</td>
</tr>
<tr>
<td>po</td>
<td>æ‰“å°å…·æœ‰å¹³å°ç‰¹æ€§çš„æè¿°æ€§APIï¼ˆåŸºç¡€ç±»å‹ï¼šæ‰“å°å˜é‡å€¼ï¼Œå¯¹è±¡: æ ¹æ®æè¿°APIè¾“å‡ºï¼‰</td>
<td>ç»ˆç«¯ä¼šæ ¹æ®å½“å‰å †æ ˆï¼Œæç¤ºå±æ€§/å‡½æ•°ä¿¡æ¯</td>
</tr>
<tr>
<td>call</td>
<td>æ‰“å°åŠŸèƒ½åŒeï¼Œä½†æ˜¯è¿˜å…·å¤‡è¾“å…¥å¤šè¡Œè¡¨è¾¾å¼çš„åŠŸèƒ½</td>
<td>æ²¡æœ‰å‘½ä»¤è¡Œæé†’ï¼Œå®Œå…¨å±äºç›²æ‰“</td>
</tr>
</tbody>
</table>
<h2 id="æ–­ç‚¹"><a href="#æ–­ç‚¹" class="headerlink" title="æ–­ç‚¹"></a>æ–­ç‚¹</h2><p>æ–­ç‚¹è®¾ç½®å‘½ä»¤ï¼Œå¯èƒ½ä¼šæœ‰äººé—®äº†ï¼Œæˆ‘ç”¨Xcodeï¼Œåœ¨å‡½æ•°è¾¹ä¸Šç‚¹ä¸€ä¸‹ä¸å°±æœ‰æ–­ç‚¹äº†ä¹ˆï¼Œè¦è¿™ä¸ªå‘½ä»¤æœ‰ä¸ªé”¤å­ç”¨ï¼Ÿé‚£åªèƒ½è¯´ä½ ä½œæ­»ä½œçš„è¿˜ä¸å¤Ÿå¤šã€‚å½“ä½ æ²¡æœ‰æºç çš„æ—¶å€™ï¼Œè¿™ä¸ªå‘½ä»¤å°±æˆäº†ä½ çš„æ•‘å‘½ç¨»è‰ã€‚ä¸¾ä¸ªğŸŒ°ï¼Œæˆ‘æœ‰ä¸ªç ¸è¿‡å£³çš„IPAåŒ…ï¼Œçº¯äºŒè¿›åˆ¶ï¼Œä½ åªèƒ½é€šè¿‡<em>class-dump</em>æˆ–è€…<em>IDA</em>å»è·å–åˆ°ä¸€äº›å‡½æ•°ä¿¡æ¯ï¼Œç„¶åä½ å°±å¯ä»¥æ‚„ç„¶çš„å»ç”¨è¿™ä¸ªå‘½ä»¤å»è®¾ç½®ä¸€äº›æ–­ç‚¹ï¼Œè°ƒè¯•å½“å‰å †æ ˆé‡Œçš„ä¿¡æ¯ã€‚æ•´ä¸ªAPPéƒ½åœ¨ä½ çš„æŒæ§ä¹‹ä¸­ã€‚OKï¼ŒåºŸè¯Bå¤šäº†ï¼Œè„‘å­è¦åæ‰çš„ï¼Œæˆ‘ä»¬ç»§ç»­æ¥çœ‹ä¸‹è¿™ä¸ªå‘½ä»¤ã€‚</p>
<blockquote>
<p>breakpointçš„ç¼©å†™ä¸ºbrï¼Œåé¢éƒ½ä¼šç”¨ç¼©å†™æ¥è¿›è¡Œæå†™</p>
</blockquote>
<h3 id="br-set"><a href="#br-set" class="headerlink" title="br set"></a>br set</h3><p>breakpoint setå‘½ä»¤æ˜¯ç”¨æ¥è®¾ç½®æ–­ç‚¹çš„ï¼ŒLLDBæä¾›äº†å¾ˆå¤šè®¾ç½®æ–­ç‚¹çš„æ–¹å¼ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">breakpoint set &lt;cmd-options&gt;</div></pre></td></tr></table></figure></p>
<p><em>ä½¿ç”¨ -n æ¥æ ¹æ®åç§°æ¥è®¾ç½®ä¸€ä¸ªæ–­ç‚¹</em><br>ç»™æ‰€æœ‰çš„initæ–¹æ³•è®¾ç½®ä¸Šæ–­ç‚¹ã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">(lldb) br set -n init</div><div class="line">Breakpoint 3: 3657 locations. // å¯ä»¥çœ‹åˆ°è®¾ç½®äº†3657çš„æ–­ç‚¹ 2333333</div><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">3: name = 'init', locations = 3657, resolved = 3657, hit count = 0</div><div class="line">  3.1: where = CoreGraphics`ttf::cvt::init(), address = 0x0000000101042ec6, resolved, hit count = 0 </div><div class="line">  3.2: where = CoreGraphics`ttf::font::init(), address = 0x000000010148c9ca, resolved, hit count = 0 </div><div class="line">  3.3: where = CoreGraphics`ttf::fpgm::init(), address = 0x0000000101063086, resolved, hit count = 0 </div><div class="line">  3.4: where = CoreGraphics`ttf::glyf::init(), address = 0x00000001012bacea, resolved, hit count = 0</div></pre></td></tr></table></figure></p>
<p><em>ä½¿ç”¨ -f æ¥æ ¹æ®æ–‡ä»¶åå»é…åˆè®¾ç½®æ–­ç‚¹</em><br>æˆ‘åªæƒ³ç»™HZViewControllerçš„initè®¾ç½®æ–­ç‚¹ï¼Œå…¶ä»–æ–­ç‚¹éƒ½ä¸è¦ï¼Œå› ä¸ºå‰é¢è®¾ç½®çš„æ–­ç‚¹å¤ªå¤šäº†ã€‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(lldb) br set  -f HZViewController.m -n init</div><div class="line">Breakpoint <span class="number">3</span>: where = HZTest_Example`-[HZViewController init] + <span class="number">20</span> at HZViewController.m:<span class="number">35</span>, address = <span class="number">0x000000010b6eeba4</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>Note: æ–‡ä»¶çš„ä½¿ç”¨æ¡ä»¶æ˜¯ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­å¿…é¡»åŒ…å«æœ‰initå‡½æ•°ã€‚é›†æˆçš„è¯æ˜¯ä¸ä¼šè¢«æ ‡è®°å‡ºæ¥çš„ã€‚ä¼šæç¤º<em>WARNING:  Unable to resolve breakpoint to any actual locations.</em></p>
</blockquote>
<p><em>ä½¿ç”¨ -l æ¥æ ¹æ®æ–‡ä»¶æ¥æŒ‡å®šæ–­ç‚¹è¡Œæ•°</em><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">26:@property (nonatomic, strong) NSString *string;</div><div class="line">34:- (instancetype)init &#123;</div><div class="line">35:    if (self = [super init]) &#123;</div><div class="line">36:</div><div class="line">37:    &#125;</div><div class="line">38:    return self;</div><div class="line">39:&#125;</div><div class="line">(lldb) br set -l 26 -f HZViewController.m</div><div class="line">Breakpoint 6: 2 locations.</div><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">6: file = 'HZViewController.m', line = 26, exact_match = 0, locations = 2, resolved = 2, hit count = 0</div><div class="line">  6.1: where = HZTest_Example`-[HZViewController string] + 12 at HZViewController.m:26, address = 0x000000010f3c2f0c, resolved, hit count = 0 </div><div class="line">  6.2: where = HZTest_Example`-[HZViewController setString:] + 49 at HZViewController.m:26, address = 0x000000010f3c2f51, resolved, hit count = 0 </div><div class="line">(lldb) br set -l 35 -f HZViewController.m</div><div class="line">Breakpoint 8: where = HZTest_Example`-[HZViewController init] + 20 at HZViewController.m:35, address = 0x000000010f3c2ba4</div><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">8: file = 'HZViewController.m', line = 35, exact_match = 0, locations = 1, resolved = 1, hit count = 0</div><div class="line">  8.1: where = HZTest_Example`-[HZViewController init] + 20 at HZViewController.m:35, address = 0x000000010f3c2ba4, resolved, hit count = 0</div></pre></td></tr></table></figure></p>
<blockquote>
<p>Note:å¦‚æœæŒ‡å®šçš„åœ°æ–¹æ˜¯ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå°±ä¼šæŒ‡å®šå…¶setå’Œgetæ–¹æ³•ï¼Œå¦‚æœæŒ‡å®šçš„åœ°æ–¹æ˜¯ä¸€ä¸ªç©ºç™½è¡Œçš„åœ°æ–¹ï¼Œåˆ™è‡ªåŠ¨å‘ä¸‹å¯»æ‰¾ç¬¬ä¸€ä¸ªå­˜åœ¨å‡½æ•°çš„æŒ‡å®šè¡Œ</p>
</blockquote>
<p>åé¢å…¶å®éƒ½æ˜¯ç»™å‰é¢çš„å‘½ä»¤ï¼Œæ–°å¢ä¸€äº›åŠŸèƒ½è€Œå‡†å¤‡çš„ã€‚å°±ä¸ä¸€ä¸ªä¸ªå»è®¾ç½®äº†ã€‚</p>
<ul>
<li><p><em>-c</em> ç”¨æ¥è®¾ç½®æ–­ç‚¹æ¡ä»¶ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æœ‰æ—¶ä¼šå¸Œæœ›æƒ³å½“ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸçš„æ—¶å€™ï¼Œæ‰è§¦å‘æ–­ç‚¹æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å»ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œå¯¹åº”å¦‚æœæ˜¯ä½¿ç”¨UIå»è®¾ç½®çš„è¯å°±æ˜¯è¿™ä¸ªé€‰é¡¹æ¡†</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">br set -n setString: -c string == <span class="string">@"TestString"</span></div></pre></td></tr></table></figure>
<p><img src="/resources/34E7B233E6285A6B512BFD507DA32887.jpg" alt="IMAGE"></p>
</li>
<li><em>-o</em> æ¥è®¾ç½®å•æ¬¡æ–­ç‚¹WWDC 2018 Session412ä¸­ä»‹ç»çš„ä¸€ç‚¹<br><em>-o</em>=<em>â€“one-shot true</em><br>é…åˆbr command addå¯ä»¥è¾¾åˆ°åœ¨æŸä¸ªæ–­ç‚¹åå•æ¬¡æ‹¦æˆªæŸä¸ªå‡½æ•°ï¼Œæœ‰å…´è¶£çœ‹æ€ä¹ˆæ“ä½œçš„å¯ä»¥å»çœ‹ä¸€ä¸‹è¿™ä½å†™çš„<a href="https://juejin.im/post/5b1cd870e51d4506dc0ac76c" target="_blank" rel="noopener">æ•ˆç‡æå‡çˆ†è¡¨çš„ Xcode å’Œ LLDB è°ƒè¯•æŠ€å·§</a></li>
<li><em>-i</em> è®¾ç½®æ‰§è¡Œå¿½ç•¥æ–­ç‚¹æ¬¡æ•°ï¼Œå¯¹åº”çš„UIè®¾ç½®å¦‚å›¾æ‰€ç¤ºã€‚<br><img src="/resources/88734A697D8FDFB43E853DA1F467D086.jpg" alt="IMAGE"></li>
</ul>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>åŒºåˆ«</th>
</tr>
</thead>
<tbody>
<tr>
<td>br set -f Test.m â€“line 12</td>
<td>ç»™æŸä¸ªæ–‡ä»¶çš„12è¡Œå‡½æ•°åŠ ä¸ªæ–­ç‚¹</td>
</tr>
<tr>
<td>br set â€“name test</td>
<td>ç»™æ‰€æœ‰test å‡½æ•°åŠ ä¸ªæ–­ç‚¹</td>
</tr>
<tr>
<td>br set â€“method test</td>
<td>ç»™æ‰€æœ‰test C++å‡½æ•°åŠ ä¸ªæ–­ç‚¹</td>
</tr>
<tr>
<td>br set â€“selector test</td>
<td>ç»™æ‰€æœ‰test OCå‡½æ•°åŠ ä¸ªæ–­ç‚¹</td>
</tr>
<tr>
<td>br set â€“shlib Foundation.framework â€“name test</td>
<td>ç»™Foundationåº“çš„testå‡½æ•°åŠ ä¸ªæ–­ç‚¹</td>
</tr>
</tbody>
</table>
<h3 id="br-command"><a href="#br-command" class="headerlink" title="br command"></a>br command</h3><p>ä»ä¸Šé¢çš„setä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•å»ç”¨ä»£ç å»è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ã€‚å½“æˆ‘ä»¬å»æ‰§è¡Œäº†æ–­ç‚¹åï¼Œæˆ‘ä»¬å¸Œæœ›è®©ä»–å»è‡ªåŠ¨çš„å»å¸®æˆ‘ä»¬å»è¾“å‡ºä¸€äº›å†…å®¹ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ä¸€ä¸ªä¸ªpo/eå»æ‰“å°ã€‚é‚£ä¹ˆè¿™ä¸ªcommandå°±æ˜¯ä¸ºäº†è¿™ä¸ªè€Œè®¾è®¡çš„ã€‚ä»å¯è§†åŒ–çš„æ–¹å¼è®¾ç½®çš„è¯ï¼Œå°±å¦‚å›¾æ‰€ç¤ºäº†ã€‚<br><img src="/resources/CD4AB509BE03B60C485114A326132841.jpg" alt="IMAGE"></p>
<blockquote>
<p>Note: å…¶å®Xcodeæä¾›äº†å¾ˆå¤šç§ç±»æ–­ç‚¹åæ‰§è¡Œçš„æ–¹å¼ï¼Œæ¯”å¦‚æ‰§è¡Œä¸€æ®µè„šæœ¬/å‘å‡ºå£°éŸ³/æ‰“å°ä¿¡æ¯ç­‰ç­‰ï¼Œæˆ‘ä»¬è¿™è¾¹åªè®²æ‰“å°Debugä¿¡æ¯çš„å†…å®¹ï¼Œè·Ÿä½ åœ¨LLDBä¸­æ‰“å°æ— å¼‚ã€‚</p>
</blockquote>
<p><em>br command list</em> æ˜¾ç¤ºæŸä¸ªæ–­ç‚¹å½“å‰çš„æ‰€æœ‰å¯æ‰§è¡Œé¡¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) br command list <span class="number">2</span></div><div class="line">Breakpoint <span class="number">2</span>:</div><div class="line"> po <span class="keyword">self</span></div></pre></td></tr></table></figure></p>
<p><em>br command add</em> ç»™æ–­ç‚¹æ·»åŠ ä¸€ä¸ªå¯æ‰§è¡Œé¡¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(lldb) br set -n testGlobalPoint -f HZViewController.m</div><div class="line">Breakpoint <span class="number">3</span>: where = HZTest_Example`-[HZViewController testGlobalPoint] + <span class="number">23</span> at HZViewController.m:<span class="number">52</span>, address = <span class="number">0x0000000105396d27</span></div><div class="line">(lldb) br command add -o <span class="string">"po self"</span> <span class="number">3</span></div><div class="line">(lldb) br command list <span class="number">2</span></div><div class="line">Breakpoint <span class="number">2</span>:</div><div class="line"> po <span class="keyword">self</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>Note: å¦‚æœä½ å°è¯•ç»™ä¸€ä¸ªæ–­ç‚¹æ·»åŠ å¤šä¸ªå‘½ä»¤ï¼Œ-oæ˜¯æ— æ³•æ»¡è¶³çš„ï¼Œå› ä¸º-oæ˜¯â€“one-lineçš„æ„æ€ï¼Œä»–åªèƒ½æ·»åŠ ä¸€è¡Œã€‚åç»­çš„æ·»åŠ ä¼šè¦†ç›–å‰é¢çš„ã€‚<br>æ‰€ä»¥ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨br command add 3 (3æ˜¯æ–­ç‚¹æ ‡è¯†)<br>å½“ç„¶ä½ å¯ä»¥å»ç»™æ–­ç‚¹åŠ ä¸ªè„šæœ¬help br command addã€‚å¯ä»¥çœ‹åˆ°Appleç»™æˆ‘ä»¬ä¸¾äº†ä¸€ä¸ªæ·»åŠ è„šæœ¬çš„ğŸŒ°ã€‚è™½ç„¶æˆ‘å¹¶ä¸çŸ¥é“è¿™ç©æ„å„¿æœ‰å•¥é¸Ÿç”¨<br>å°æŠ€å·§LLDBä¸­æœ‰ä¸ªå…³é”®è¯æ˜¯contiune,æˆ‘ä»¬å¯ä»¥é”®å…¥è¿™ä¸ªå»è·³è¿‡æ–­ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¾“å…¥å¤šè¡Œçš„æ—¶å€™å°±å¯ä»¥è¿™ä¹ˆç©äº†,è¿™æ ·ä¼šè·³è¿‡æ–­ç‚¹ï¼Œä½†æ˜¯åˆä¼šæœ‰åˆç†çš„Logè¾“å‡º<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(lldb) br command add 3</div><div class="line">Enter your debugger command(s).  Type 'DONE' to end.</div><div class="line">&gt; po self</div><div class="line">&gt; continue</div><div class="line">&gt; DONE</div></pre></td></tr></table></figure></p>
</blockquote>
<p><em>br command delete</em> åˆ é™¤ä¸€ä¸ªæ–­ç‚¹çš„å¯æ‰§è¡Œé¡¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) br command delete <span class="number">3</span></div><div class="line">(lldb) br command list <span class="number">3</span></div><div class="line">Breakpoint <span class="number">3</span> does not have an associated command.</div></pre></td></tr></table></figure></p>
<h3 id="br-list"><a href="#br-list" class="headerlink" title="br list"></a>br list</h3><p>æŸ¥çœ‹å½“å‰è®¾ç½®çš„æ–­ç‚¹çš„åˆ—è¡¨ï¼Œenable/disableçš„éƒ½ä¼šæ˜¾ç¤ºåœ¨ä¸Šé¢ï¼ŒåŒ…å«è¿è¡ŒæœŸçš„ä»£ç æ–­ç‚¹å’Œè¿è¡Œå‰çš„å¯è§†åŒ–æ–­ç‚¹<br>LLDBä¼šé»˜è®¤å…ˆè¯»å–ä½ åœ¨éè¿è¡ŒæœŸï¼Œè®¾ç½®çš„æ–­ç‚¹å³åœ¨Xcodeçš„å‡½æ•°å·¦è¾¹çš„å°ç®­å¤´ï¼Œå½“æˆ‘ä»¬æ¯æ¬¡è®¾ç½®ä¸€æ¬¡å¯è§†åŒ–çš„æ–­ç‚¹ã€‚å°±ä¼šå»è®¾ç½®æ–­ç‚¹æ–‡ä»¶ã€‚<br>æ–‡ä»¶è·¯å¾„<em>/å·¥ç¨‹ç›®å½•//Users/hongzhizhao/Desktop/HZTest/Example/HZTest.xcworkspace/xcuserdata/hongzhizhao.xcuserdatad/xcdebugger/Breakpoints_v2.xcbkptlist</em><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">1: file = '/Users/xxxxx/Desktop/HZTest/Example/HZTest/HZViewController.m', line = 44, exact_match = 0, locations = 1, resolved = 1, hit count = 0</div><div class="line"></div><div class="line">  1.1: where = HZTest_Example`-[HZViewController testGlobalPoint] + 23 at HZViewController.m:44, address = 0x0000000100d42d37, resolved, hit count = 0 </div><div class="line"></div><div class="line">2: file = '/Users/xxxx/Desktop/HZTest/Example/HZTest/HZViewController.m', line = 37, exact_match = 0, locations = 1, resolved = 1, hit count = 1</div><div class="line"></div><div class="line">  2.1: where = HZTest_Example`-[HZViewController viewDidLoad] + 61 at HZViewController.m:37, address = 0x0000000100d42c6d, resolved, hit count = 1</div></pre></td></tr></table></figure></p>
<h3 id="br-delete"><a href="#br-delete" class="headerlink" title="br delete"></a>br delete</h3><p>é¡¾åæ€ä¹‰ï¼Œåˆ é™¤æ–­ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡br listä¸­å»æ‰¾åˆ°å¯¹åº”çš„nuberã€‚(åŒ…å«äºŒçº§çš„ä¹Ÿå¯ä»¥ã€‚)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">breakpoint delete <span class="comment">#number#</span></div></pre></td></tr></table></figure></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">(lldb) br set -n init</div><div class="line">Breakpoint 6: 3657 locations.</div><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">6: name = 'init', locations = 3657, resolved = 3657, hit count = 0</div><div class="line">  6.3656: where = EmailCore`-[ECEncodedWordEncoder init], address = 0x000000011e6caa14, resolved, hit count = 0 </div><div class="line">  6.3657: where = CoreRecents`-[CRRecentContactsLibrary init], address = 0x000000011e6dec27, unresolved, hit count = 0 </div><div class="line">(lldb) br delete 6.3657</div><div class="line">0 breakpoints deleted; 1 breakpoint locations disabled.</div><div class="line">(lldb) br list</div><div class="line">  6.3656: where = EmailCore`-[ECEncodedWordEncoder init], address = 0x000000011e6caa14, resolved, hit count = 0 </div><div class="line">  6.3657: where = CoreRecents`-[CRRecentContactsLibrary init], address = 0x000000011e6dec27, unresolved, hit count = 0  Options: disabled</div></pre></td></tr></table></figure>
<h3 id="br-disable-enable"><a href="#br-disable-enable" class="headerlink" title="br disable/enable"></a>br disable/enable</h3><p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½æ ¹æ®å…·ä½“åœºæ™¯è®¾ç½®äº†ä¸€äº›æ–­ç‚¹ï¼Œä½†æ˜¯ä¸´æ—¶å¼€å‘çš„æ—¶å€™æˆ‘ä»¬å´ä¸æƒ³è®©å…¶è¿›å…¥æ–­ç‚¹ã€‚OKï¼Œæˆ‘ä»¬å¯ä»¥å»ä¸´æ—¶æ”¹å†™è¿™ä¸ªæ–­ç‚¹çš„çŠ¶æ€ä¸ºdisable,å½“æˆ‘ä»¬å¸Œæœ›å…¶å¼€å¯çš„æ—¶å€™å†è®¾ç½®ä¸ºenableå°±å¯ä»¥äº†~ï¼Œperfectï¼Ÿ<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">1: file = '/Users/hongzhizhao/Desktop/HZTest/Example/HZTest/HZViewController.m', line = 44, exact_match = 0, locations = 1, resolved = 1, hit count = 1</div><div class="line">  1.1: where = HZTest_Example`-[HZViewController viewDidLoad] + 61 at HZViewController.m:44, address = 0x0000000105396c1d, resolved, hit count = 1 </div><div class="line">(lldb) br disable 1</div><div class="line">1 breakpoints disabled.</div><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">1: file = '/Users/hongzhizhao/Desktop/HZTest/Example/HZTest/HZViewController.m', line = 44, exact_match = 0, locations = 1 Options: disabled </div><div class="line">  1.1: where = HZTest_Example`-[HZViewController viewDidLoad] + 61 at HZViewController.m:44, address = 0x0000000105396c1d, unresolved, hit count = 1</div></pre></td></tr></table></figure></p>
<h3 id="br-clear"><a href="#br-clear" class="headerlink" title="br clear"></a>br clear</h3><p>æ¸…ç†æŒ‡å®šæ–‡ä»¶çš„æŒ‡å®šè¡Œçš„æ–­ç‚¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">breakpoint clear -l <span class="meta">#lines# -f #filename#</span></div></pre></td></tr></table></figure></p>
<p>ä¸‹é¢å‘½ä»¤ä¸º</p>
<ul>
<li>æŸ¥çœ‹å½“å‰listç¡®å®å­˜åœ¨ä¸€ä¸ªæ–­ç‚¹</li>
<li>ä½¿ç”¨clearå‘½ä»¤æ¸…é™¤nameä¸º5çš„æ–­ç‚¹</li>
<li>å†æ¬¡æŸ¥çœ‹å½“å‰listï¼Œnameä¸º5ç¡®å®è¢«ç§»é™¤äº†<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div><div class="line">5: file = '/Users/hongzhizhao/Desktop/HZTest/Example/HZTest/HZViewController.m', line = 48, exact_match = 0, locations = 1, resolved = 1, hit count = 0</div><div class="line">  5.1: where = HZTest_Example`-[HZViewController testGlobalPoint] + 23 at HZViewController.m:48, address = 0x000000010da39d37, resolved, hit count = 0 </div><div class="line">(lldb) br clear -l 48 -f "HZViewController.m"</div><div class="line">1 breakpoints cleared:</div><div class="line">5: file = '/Users/hongzhizhao/Desktop/HZTest/Example/HZTest/HZViewController.m', line = 48, exact_match = 0, locations = 1, resolved = 1, hit count = 0</div><div class="line"></div><div class="line">(lldb) br list</div><div class="line">Current breakpoints:</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="br-read-write"><a href="#br-read-write" class="headerlink" title="br read/write"></a>br read/write</h3><p>æˆ‘ä»¬å‰é¢è®²listçš„æ—¶å€™ï¼Œæˆ‘ä»¬è®²åˆ°è¿‡ä¸€äº›å­˜å‚¨æ–­ç‚¹ç›¸å…³çš„ä¸œè¥¿ï¼Œ<em>br write -f #file_path#</em>ï¼Œ-fæ ‡è¯†æ–­ç‚¹æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ã€‚<br>å‰é¢è¯´äº†è¿™ä¹ˆå¤šçš„æ–­ç‚¹è®¾ç½®ï¼Œå…¶å®éƒ½æ˜¯è¿è¡ŒæœŸçš„è®¾ç½®ï¼Œå‡ºäº†è¿è¡ŒæœŸï¼Œè¿™äº›è®¾ç½®éƒ½æ˜¯æ²¡æœ‰äº†çš„ã€‚æ‰€ä»¥read/writeæ˜¯ä¸€ä¸ªæŒä¹…ä¿å­˜çš„æ–¹æ¡ˆã€‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(lldb) br write  -f ~/Desktop/a.log</div><div class="line">(lldb) br read  -f ~/Desktop/a.log</div><div class="line">New breakpoints:</div><div class="line">Breakpoint <span class="number">4</span>: where = HZTest_Example`-[HZViewController viewDidLoad] + <span class="number">61</span> at HZViewController.m:<span class="number">44</span>, address = <span class="number">0x0000000105396c1d</span></div><div class="line">Breakpoint <span class="number">5</span>: where = HZTest_Example`-[HZAppDelegate application:didFinishLaunchingWithOptions:] + <span class="number">73</span> at HZAppDelegate.m:<span class="number">16</span>, address = <span class="number">0x0000000105396719</span></div><div class="line">Breakpoint <span class="number">6</span>: where = HZTest_Example`-[HZViewController testGlobalPoint] + <span class="number">23</span> at HZViewController.m:<span class="number">52</span>, address = <span class="number">0x0000000105396d27</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>Note: readå¹¶ä¸èƒ½è¯»å–Xcodeä½¿ç”¨å¯è§†åŒ–è®¾ç½®çš„åŸ‹ç‚¹ï¼Œå¯èƒ½è·Ÿç‰ˆæœ¬æœ‰å…³ç³»å§ï¼Œå¯è§†åŒ–åŸ‹çš„æ–­ç‚¹ï¼Œæ˜¯V2ç‰ˆæœ¬çš„ã€‚ä½†æ˜¯ä½¿ç”¨å‘½ä»¤çš„å¹¶æ²¡æœ‰ç‰ˆæœ¬æ ‡è¯†ï¼Œå¯è§†åŒ–åŸ‹ç‚¹æ˜¯xml,ä½¿ç”¨å‘½ä»¤ä¿å­˜çš„å´æ˜¯jsonæ–‡ä»¶ã€‚å¦å¤–readå¹¶æ˜¯ä¸€ä¸ªä¼šå»æ›¿æ¢çš„æ›´æ–°ï¼Œè€Œæ˜¯ä¸€ä¸ªè¯»å–åå…¨éƒ¨æ·»åŠ ~</p>
</blockquote>
<h2 id="å±æ€§ç›‘å¬-watchpoint"><a href="#å±æ€§ç›‘å¬-watchpoint" class="headerlink" title="å±æ€§ç›‘å¬ watchpoint"></a>å±æ€§ç›‘å¬ watchpoint</h2><p>OKï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•å»è®¾ç½®ä¸€ä¸ªå‡½æ•°çš„æ–­ç‚¹ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½å¹¶ä¸æ»¡è¶³äºå‡½æ•°ï¼Œéœ€è¦å»ç›‘å¬ä¸€äº›å±æ€§çš„å˜åŒ–ã€‚é‚£ä¹ˆæœ‰äº›äººå°±ä¼šè¯´ï¼Œæˆ‘ç›´æ¥ç›‘å¬setæ–¹æ³•ä¸å°±å¥½äº†ï¼Ÿé‚£ä¹ˆå°±ä¼šæœ‰ä¸¤ç§æƒ…å†µä¸ä¼šè¿‡setæ–¹æ³•ï¼Œ1.ç›´æ¥è°ƒç”¨çš„æ˜¯<em>_</em> 2.è¿™ä¸ªå±æ€§å‹æ ¹å°±æ²¡æœ‰getterå’Œsetteræ–¹å¼æ˜¯ä¸€ä¸ªçº¯åªæŒ‡é’ˆçš„è®¿é—®å½¢å¼å‘¢ï¼Ÿä½ ç›‘å¬ç»™æˆ‘çœ‹çœ‹ï¼Ÿ<br>æ‰€ä»¥watchpointå°±æ˜¯è¿™ä¹ˆä¸€ä¸ªç¥å¥‡çš„ä¸œè¥¿ï¼Œè¯´ç™½äº†ä»–æ˜¯ç›‘å¬ä¸€ä¸ªå†…å­˜åœ°å€çš„å˜åŒ–ï¼Œæ‰€ä»¥ä»–èƒ½å¤Ÿå»æ•è·å˜é‡çš„å˜åŒ–ã€‚</p>
<blockquote>
<p>watchpoint è·Ÿbreakpointçš„å‘½ä»¤å¤§è‡´ç›¸åŒï¼Œåªæ˜¯ä¸€ä¸ªæ“ä½œå‡½æ•°ï¼Œä¸€ä¸ªæ“ä½œåœ°å€ç½¢äº†</p>
</blockquote>
<h3 id="watchpoint-set"><a href="#watchpoint-set" class="headerlink" title="watchpoint set"></a>watchpoint set</h3><p><em>watchpoint set variable <var></var></em><br>è·Ÿè®¾ç½®å‡½æ•°ä¸€æ ·çš„å»è®¾ç½®ä¸€ä¸ªæ–­ç‚¹<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(lldb) watchpoint set variable self.window</div><div class="line">error: "self" is a pointer and . was used to attempt to access "window". Did you mean "self-&gt;window"?</div><div class="line">(lldb) watchpoint set variable self-&gt;_window</div><div class="line">Watchpoint created: Watchpoint 1: addr = 0x600000ccc110 size = 8 state = enabled type = w</div><div class="line">    watchpoint spec = 'self-&gt;_window'</div><div class="line">    new value: 0x00007fc8b780d600</div></pre></td></tr></table></figure></p>
<blockquote>
<p>ç”±äºwatchpointæ˜¯ä¸€ä¸ªå†…å­˜å—çš„ç›‘å¬ç­–ç•¥ï¼Œå¦‚æœæˆ‘ä»¬å»å†™self.windowè¿™ç§è¡¨è¾¾å¼ï¼Œå®è´¨æ˜¯åœ¨è®¾ç½®[self setWindow:]æ–¹æ³•ï¼Œé‚£ä¹ˆè·Ÿä»–çš„å®šä¹‰å°±å¤§ç›¸å¾„åº­äº†ã€‚è¿™è¾¹ä¸¾ä¸ªä¾‹å­</p>
</blockquote>
<p><em>watchpoint set expression <expr></expr></em><br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(lldb) watchpoint set expression <span class="number">0x00007fc8b780d600</span></div><div class="line">Watchpoint created: Watchpoint <span class="number">2</span>: addr = <span class="number">0x7fc8b780d600</span> size = <span class="number">8</span> state = enabled type = w</div><div class="line">    new value: <span class="number">4440870480</span></div></pre></td></tr></table></figure></p>
<p><em>-wç»Ÿä¸€å‚æ•°</em><br>read/write/read_write<br>ä»å­—é¢æ„æ€ä¸Šï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºæ˜¯ç›‘å¬çš„å†…å®¹æ˜¯è¯»è¿˜æ˜¯å†™è¿˜æ˜¯è¯»å†™ä¸€èµ·ç›‘å¬ã€‚é»˜è®¤æ˜¯å†™æ“ä½œ</p>
<blockquote>
<p>variable/expressionçš„åŒºåˆ«åº”ç”¨<br>variableå¿…é¡»æ˜¯ä½ è¿›å…¥äº†æŸæ¬¡æ–­ç‚¹ï¼Œæ‰èƒ½å¤Ÿç”¨ä½¿ç”¨å½“å‰æ ˆä¸­ä½¿ç”¨çš„å±æ€§å»ç›‘å¬<br>expression ä½ å¯ä»¥é€šè¿‡ä¸€äº›é€†å‘è½¯ä»¶æ¥è®¡ç®—åç§»é‡+é¦–åœ°å€çš„å½¢å¼å»å¾—åˆ°æœ€ç»ˆçš„å†…å­˜åœ°å€</p>
</blockquote>
<h3 id="watchpoint-list"><a href="#watchpoint-list" class="headerlink" title="watchpoint list"></a>watchpoint list</h3><p>è¿™ä¸ªæˆ‘ä»¬å°±ä¸å¤šè¯´äº†ï¼ŒæŸ¥çœ‹å½“å‰çš„watchpointåˆ—è¡¨<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(lldb) watchpoint list</div><div class="line">Number of supported hardware watchpoints: 4</div><div class="line">Current watchpoints:</div><div class="line">Watchpoint 1: addr = 0x600000ccc110 size = 8 state = enabled type = w</div><div class="line">    watchpoint spec = 'self-&gt;_window'</div><div class="line">    new value: 0x00007fc8b780d600</div><div class="line">Watchpoint 2: addr = 0x7fc8b780d600 size = 8 state = enabled type = w</div><div class="line">    new value: 4440870480</div></pre></td></tr></table></figure></p>
<blockquote>
<p>è¿™è¾¹æˆ‘ä»¬çœ‹åˆ°ä½¿ç”¨expressionå’Œvariableä¼šå¾—åˆ°ä¸¤æ¡ç»“æœ</p>
</blockquote>
<h3 id="watchpoint-delete"><a href="#watchpoint-delete" class="headerlink" title="watchpoint delete"></a>watchpoint delete</h3><p>åˆ é™¤ä¸€ä¸ªç›‘æµ‹ç‚¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(lldb) watch delete <span class="number">1</span></div><div class="line"><span class="number">1</span> watchpoints deleted.</div></pre></td></tr></table></figure></p>
<h3 id="watchpoint-disable-enable"><a href="#watchpoint-disable-enable" class="headerlink" title="watchpoint disable/enable"></a>watchpoint disable/enable</h3><p>è·Ÿbreakpointä¸€æ ·ï¼Œä»–ä¹Ÿæœ‰ä¸€ä¸ªä¸´æ—¶å…³é—­å’Œæ‰“å¼€çš„è®¾ç½®å¼€å…³<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(lldb) watchpoint disable <span class="number">3</span></div><div class="line"><span class="number">1</span> watchpoints disabled.</div><div class="line">(lldb) watchpoint enable <span class="number">3</span></div><div class="line"><span class="number">1</span> watchpoints enabled.</div></pre></td></tr></table></figure></p>
<h3 id="watchpoint-ignore"><a href="#watchpoint-ignore" class="headerlink" title="watchpoint ignore"></a>watchpoint ignore</h3><p>ä¸€ä¸ªæ–­ç‚¹åœ¨çœŸæ­£è¢«æ‰§è¡Œå‰éœ€è¦è¢«æ–­ç‚¹å‡ æ¬¡ï¼Ÿ<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(lldb) watchpoint ignore -i <span class="number">3</span> <span class="number">3</span></div><div class="line"><span class="number">1</span> watchpoints ignored.</div></pre></td></tr></table></figure></p>
<h3 id="watchpoint-modify"><a href="#watchpoint-modify" class="headerlink" title="watchpoint modify"></a>watchpoint modify</h3><p>å½“æ¡ä»¶ä¸ºçœŸçš„æ—¶å€™ï¼Œé‡‡å–çœŸæ­£æ‰§è¡Œæ–­ç‚¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(lldb) watchpoint modify -c <span class="string">"self ==nil"</span> <span class="number">3</span></div><div class="line"><span class="number">1</span> watchpoints modified.</div></pre></td></tr></table></figure></p>
<h3 id="watchpoint-command"><a href="#watchpoint-command" class="headerlink" title="watchpoint command"></a>watchpoint command</h3><p>è¿™ä¸ªè·Ÿbreakpoint command æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œè¿™è¾¹å°±ä¸å»è¯´è¿™ä¸ªä¸œè¥¿äº†ã€‚</p>
<h2 id="æ§åˆ¶ç¨‹åº-thread"><a href="#æ§åˆ¶ç¨‹åº-thread" class="headerlink" title="æ§åˆ¶ç¨‹åº thread"></a>æ§åˆ¶ç¨‹åº thread</h2><p>è¯´å®Œäº†å¦‚ä½•å»è°ƒè¯•ä½ çš„ä»£ç ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™è¿™å¾€å¾€æ˜¯ä¸å¤Ÿçš„ã€‚æˆ‘ä»¬å¸Œæœ›äºå»æ§åˆ¶æˆ‘ä»¬çš„ç¨‹åºèµ°å‘ã€‚ä¾‹å¦‚ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œä¼šæ”¹å˜ç¨‹åºçš„èµ°å‘ï¼Œé‚£ä¹ˆæˆ‘å¸Œæœ›å»æ”¹å˜ä»–çš„è¿”å›å€¼ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°threadè¿™ä¸ªå‘½ä»¤æ¥è¾…ä½æˆ‘ä»¬ã€‚æˆ‘ä»¬æ—¥å¸¸ç”¨çš„stepè°ƒè¯•ï¼Œå…¶å®éƒ½æ˜¯threadå‘½ä»¤ï¼Œåªæ˜¯Xcodeå¸®æˆ‘ä»¬å¯è§†åŒ–äº†ç½¢äº†ã€‚</p>
<h3 id="thread-return"><a href="#thread-return" class="headerlink" title="thread return"></a>thread return</h3><p>returné¡¾åæ€ä¹‰ï¼Œç›´æ¥ä½¿å‡½æ•°return,returnåé¢å¯ä»¥æ¥è¡¨è¾¾å¼ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬è¿”å›ä¸€äº›æœ‰åˆ©äºæˆ‘ä»¬è°ƒè¯•çš„ä¸œè¥¿<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">thread <span class="keyword">return</span> [&lt;expr&gt;]</div></pre></td></tr></table></figure></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)testReturn &#123;</div><div class="line">    <span class="built_in">NSString</span> *a = [<span class="keyword">self</span> testReturn] ? <span class="string">@"a"</span> : <span class="string">@"b"</span>;</div><div class="line">&#125;</div><div class="line">- (<span class="built_in">BOOL</span>)testReturn &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line">(lldb) thread <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">(lldb) po a</div><div class="line">b</div></pre></td></tr></table></figure>
<h3 id="thread-step-x"><a href="#thread-step-x" class="headerlink" title="thread step-x"></a>thread step-x</h3><p>æˆ‘ä»¬å¹³æ—¶çš„å•æ­¥è°ƒè¯•ï¼Œå…¶å®éƒ½æ¥è‡ªäºè¿™ä¸ªå‘½ä»¤<br><img src="/resources/8D06BDE637F8450D713B1DA6B5814F49.jpg" alt="IMAGE"><br>|å‘½ä»¤|ä½œç”¨|<br>|â€“|â€“|<br>| thread countinue/c/countinue |ç­‰åŒäºç¬¬ä¸€ä¸ªæŒ‰é’®ï¼Œæ ‡è¯†ç¨‹åºç»§ç»­è¿è¡Œ|<br>| thread step-over/n/next | ç­‰åŒäºç¬¬äºŒä¸ªæŒ‰é’®ï¼Œå•æ­¥è¿è¡Œ |<br>| thread step-in/s/step | ç­‰åŒäºç¬¬ä¸‰ä¸ªæŒ‰é’®ï¼Œè¿›å…¥å‡½æ•°æ–¹æ³•å†…éƒ¨ æºç çº§åˆ«|<br>| thread step-out/finish | ç­‰åŒäºç¬¬å››ä¸ªæŒ‰é’®ï¼Œè·³å‡ºå½“å‰å‡½æ•° |</p>
<h3 id="thread-jump"><a href="#thread-jump" class="headerlink" title="thread jump"></a>thread jump</h3><p>OKï¼Œè¿™ç©æ„å„¿çœŸçš„æ˜¯ä¸€ä¸ªé»‘é­”æ³•ã€‚çœ‹WWDC2018,æ–­ç‚¹ç§»åŠ¨çš„æˆ‘ä¸€æ„£ä¸€æ„£çš„ã€‚æ¥æ„Ÿå—ä¸€ä¸‹ï¼Ÿ<br><img src="/resources/64AC4E1386A9032ED73A4E7B68E4B08D.gif =1052x682" alt="æœªå‘½å.gif"><br>å…¶å®è¿™ä¸ªä¸œè¥¿å¾ˆç®€å•ï¼Œè€æ—©å°±æœ‰äº†ï¼Œåªæ˜¯æˆ‘ä¸çŸ¥é“ç½¢äº†ã€‚<br><em>thread jump -l <linenum></linenum></em>ä¸Šé¢çš„å›¾æ˜¯å¯è§†åŒ–çš„ç½¢äº†ï¼Œè¿™ä¸ªæ‰æ˜¯å®è´¨ä»£ç ã€‚-l è¾“å…¥è·³è½¬çš„ä»£ç ã€‚</p>
<blockquote>
<p>Note:ä¸”ç”¨ä¸”çæƒœï¼Œè¿™ä¸œè¥¿æœ‰åˆ©æœ‰å¼Š</p>
</blockquote>
<h3 id="å…¶ä»–ä¸œè¥¿"><a href="#å…¶ä»–ä¸œè¥¿" class="headerlink" title="å…¶ä»–ä¸œè¥¿"></a>å…¶ä»–ä¸œè¥¿</h3><ul>
<li>thread list åˆ—å‡ºå½“å‰æ‰€æœ‰çš„çº¿ç¨‹</li>
<li>thread select é€‰æ‹©æŸä¸ªçº¿ç¨‹</li>
<li>therad until ä¼ å…¥ä¸€ä¸ªè¡Œæ•°ï¼Œè®©ç¨‹åºæ‰§è¡Œåˆ°è¿™è¡Œçš„æ—¶å€™æš‚åœ</li>
<li>thread info è¾“å‡ºå½“å‰çº¿ç¨‹çš„ä¿¡æ¯</li>
<li>thread backtrace æ–­ç‚¹çš„å‡½æ•°è°ƒç”¨å †æ ˆï¼Œé»˜è®¤å½“å‰çº¿ç¨‹</li>
<li>thread plan ç”¨æ¥ç®¡ç†å½“å‰çº¿ç¨‹çš„æ‰§è¡Œè®¡åˆ’</li>
</ul>
<blockquote>
<p>threadå‘½ä»¤è™½å¥½ï¼Œä½†æ˜¯éšæ„æ”¹å˜æˆè¯­çš„èµ°å‘ï¼Œå¯èƒ½ä¼šå¼•èµ·ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦</p>
</blockquote>
<h2 id="æŸ¥çœ‹è°ƒç”¨æ ˆ-frame"><a href="#æŸ¥çœ‹è°ƒç”¨æ ˆ-frame" class="headerlink" title="æŸ¥çœ‹è°ƒç”¨æ ˆ frame"></a>æŸ¥çœ‹è°ƒç”¨æ ˆ frame</h2><p>åœ¨æˆ‘ä»¬è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸èƒ½çœ‹åˆ°ï¼Œæ§åˆ¶å°å¸®æˆ‘ä»¬è¾“å‡ºäº†å½“å‰çš„è°ƒç”¨æ ˆå†…å®¹ã€‚å…¶å®ä»–å¯¹åº”çš„å°±æ˜¯frameå‘½ä»¤ã€‚<br><img src="/resources/DEE2D7DF3DC22831BDEE012AE6FAE029.jpg" alt="IMAGE"><br>ç»†å¿ƒçš„åŒå­¦å¯èƒ½ä¼šçœ‹åˆ°ä¸€ä¸ªç»†èŠ‚ï¼Œçº¢æ¡†1å’Œçº¢æ¡†2æ˜¯å¯¹åº”çš„ï¼Œçº¢æ¡†2æ˜¯ç”¨thread backtraceæ‰“å°å‡ºæ¥çš„ã€‚é‡Œé¢çš„frameå…¶å®å°±æ˜¯æˆ‘ä»¬è¿™é¢çš„frame,æˆ‘ä»¬å¯ä»¥é€šè¿‡<em>frame select <num></num></em>æ¥ä½¿ç”¨ä»£ç åˆ‡æ¢å½“å‰è¿è¡Œçš„è°ƒç”¨æ ˆï¼Œè·Ÿä½ æ‰‹åŠ¨ç‚¹ç°å†µ1çš„æ²¡æœ‰ä»»ä½•åŒºåˆ«<br><img src="/resources/1520BBE8DC414066748F4082CA2A4DDB.jpg" alt="IMAGE"><br><em>frame variable</em>ç”¨æ¥æ‰“å°å½“å‰è°ƒç”¨æ ˆå†…çš„æ‰€æœ‰å±æ€§<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(lldb) frame variable</div><div class="line">(HZViewController *) <span class="keyword">self</span> = <span class="number">0x00007f8c6540ba90</span></div><div class="line">(SEL) _cmd = <span class="string">"viewDidLoad"</span></div><div class="line">(__NSCFConstantString *) a = <span class="number">0x000000010fffa128</span> <span class="string">@"b"</span></div></pre></td></tr></table></figure></p>
<p><em>frame info</em>æ‰“å°å½“å‰æ ˆçš„å†…å®¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(lldb) frame info</div><div class="line">frame <span class="meta">#0: 0x000000010fff7c64 HZTest_Example`-[HZViewController viewDidLoad](self=0x00007f8c6540ba90, _cmd=<span class="meta-string">"viewDidLoad"</span>) at HZViewController.m:52</span></div></pre></td></tr></table></figure></p>
<h2 id="help-apropos"><a href="#help-apropos" class="headerlink" title="help/apropos"></a>help/apropos</h2><p>å½“ç„¶è¯´äº†è¿™ä¹ˆå¤šï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬è‚¯å®šä¼šå¿˜æ‰çš„~å•§å•§å•§ï¼Œè°è¿˜èƒ½è®°ä½è¿™ä¹ˆå¤šå‘¢ï¼Œæ¯•ç«ŸXcodeå¸®æˆ‘ä»¬åšå¥½äº†å¯è§†åŒ–è¿™ä¹ˆå¥½çš„ä¸œè¥¿ã€‚<br>ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å´ä¸å¾—ä¸å»æ‰¾è¿™äº›å‘½ä»¤ï¼Œæ¯”å¦‚é€†å‘çš„æ—¶å€™ã€‚2333333<br>helpå¾ˆç®€å•ï¼Œå¸®åŠ©æˆ‘ä»¬å»æ‰“å°æè¿°ä¿¡æ¯çš„ã€‚ä¾‹å¦‚æˆ‘æƒ³çŸ¥é“frameçš„ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™ä¹ˆæ“ä½œï¼Œé‡Œé¢éƒ½å¸®æˆ‘ä»¬å†™å¥½äº†<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">(lldb) help frame</div><div class="line">     Commands for selecting and examing the current thread's stack frames.</div><div class="line"></div><div class="line">Syntax: frame &lt;subcommand&gt; [&lt;subcommand-options&gt;]</div><div class="line"></div><div class="line">The following subcommands are supported:</div><div class="line"></div><div class="line">      info     -- List information about the current stack frame in the current</div><div class="line">                  thread.</div><div class="line">      select   -- Select the current stack frame by index from within the</div><div class="line">                  current thread (see 'thread backtrace'.)</div><div class="line">      variable -- Show variables for the current stack frame. Defaults to all</div><div class="line">                  arguments and local variables in scope. Names of argument,</div><div class="line">                  local, file static and file global variables can be</div><div class="line">                  specified. Children of aggregate variables can be specified</div><div class="line">                  such as 'var-&gt;child.x'.</div><div class="line"></div><div class="line">For more help on any particular subcommand, type 'help &lt;command&gt; &lt;subcommand&gt;'.</div></pre></td></tr></table></figure></p>
<p>aproposï¼Œæ˜¯ä¸€ä¸ªæœç´¢å‘½ä»¤ï¼Œå¸®æˆ‘ä»¬æŸ¥æ‰¾æœ‰å“ªäº›å‘½ä»¤å¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚ä¸‹å›¾è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿç­”åº”å‡ºå…³äºstepçš„æ‰€æœ‰å‘½ä»¤æ¥å¸®åŠ©æˆ‘ä»¬æ¥ä½¿ç”¨<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">(lldb) apropos step</div><div class="line">The following commands may relate to 'step':</div><div class="line">  thread step-in        -- Source level single step, stepping into calls. </div><div class="line">                           Defaults to current thread unless specified.</div><div class="line">  thread step-inst      -- Instruction level single step, stepping into calls. </div><div class="line">                           Defaults to current thread unless specified.</div><div class="line">  thread step-inst-over -- Instruction level single step, stepping over calls. </div><div class="line">                           Defaults to current thread unless specified.</div><div class="line">  thread step-out       -- Finish executing the current stack frame and stop</div><div class="line">                           after returning.  Defaults to current thread unless</div><div class="line">                           specified.</div><div class="line">  thread step-over      -- Source level single step, stepping over calls. </div><div class="line">                           Defaults to current thread unless specified.</div></pre></td></tr></table></figure></p>
<h2 id="Extension"><a href="#Extension" class="headerlink" title="Extension"></a>Extension</h2><h3 id="åˆ·æ–°UI"><a href="#åˆ·æ–°UI" class="headerlink" title="åˆ·æ–°UI"></a>åˆ·æ–°UI</h3><p>å³ä½¿ä½ æ”¹äº†UIçš„å±æ€§ï¼Œå› ä¸ºç¨‹åºæš‚åœï¼Œä½ æ˜¯æ— æ³•åˆ·æ–°UIçš„ï¼Œä½†æ˜¯æœ‰ä¸ªå‘½ä»¤å¯ä»¥å¸®ä½ ï¼Œè¿™æ ·åšä½ å°±å¯ä»¥åŠæ—¶çš„å¸®åŠ©ä½ æ¥æ”¹å˜UIçš„åˆ·æ–°ï¼Œå³ä½¿ä»–åœ¨æ–­ç‚¹çš„çŠ¶æ€<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">e <span class="built_in">CATransaction</span>.flush()</div></pre></td></tr></table></figure></p>
<h3 id="ä½¿ç”¨åˆ«äººå†™å¥½çš„è„šæœ¬"><a href="#ä½¿ç”¨åˆ«äººå†™å¥½çš„è„šæœ¬" class="headerlink" title="ä½¿ç”¨åˆ«äººå†™å¥½çš„è„šæœ¬"></a>ä½¿ç”¨åˆ«äººå†™å¥½çš„è„šæœ¬</h3><p>LLDBæ˜¯æ”¯æŒä½¿ç”¨åˆ«äººå†™å¥½çš„å‘½ä»¤çš„ï¼Œå®è´¨è¯­æ³•æ˜¯ä½¿ç”¨pythonå†™çš„ï¼Œè¿™è¾¹å°±ä¸å¤šåšä»‹ç»äº†ã€‚æœ‰å…´è¶£å¯ä»¥å»äº†è§£ä¸€ä¸‹</p>
<h3 id="åˆ«ååŠŸèƒ½"><a href="#åˆ«ååŠŸèƒ½" class="headerlink" title="åˆ«ååŠŸèƒ½"></a>åˆ«ååŠŸèƒ½</h3><p>å¾ˆå¤šæ—¶å€™å‘½ä»¤å¾ˆé•¿ï¼Œæˆ‘ä»¬è®°ä¸ä½æ€ä¹ˆåŠã€‚æ¯”å¦‚é‚£ä¸ªåˆ·æ–°UIçš„å‘½ä»¤ã€‚å¥½é•¿å•Šï¼Œåœ¨Sessioné‡Œé¢ï¼Œè¿™ä¸ªäººæœ‰ä¸ªæ¶è¶£å‘³ç”¨ğŸš½æ¥ä»£æ›¿é‚£ä¸ªå‘½ä»¤ã€‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">command alias ğŸš½ e <span class="built_in">CATransaction</span>.flush()</div></pre></td></tr></table></figure></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.jianshu.com/p/268ecb3cf4c6" target="_blank" rel="noopener">iOS å¸¸ç”¨çš„lldbå‘½ä»¤</a><br><a href="https://juejin.im/entry/58c75b258ac24707201369c4" target="_blank" rel="noopener">ä½¿ç”¨ LLDB è°ƒè¯• APP</a><br><a href="http://ios.jobbole.com/83393/" target="_blank" rel="noopener">ç†Ÿç»ƒä½¿ç”¨ LLDBï¼Œè®©ä½ è°ƒè¯•äº‹åŠåŠŸå€</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/06/10/WWDC-2018-412-Advanced-Debugging-With-Xcode-and-LLDB/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'zhz';
var disqus_identifier = '2018/07/05/é‚£ä¸ªLLDBä½ çœŸçš„äº†è§£å—/';
var disqus_title = 'é‚£ä¸ªLLDBä½ çœŸçš„äº†è§£å—';
var disqus_url = 'http://www.zhz.io/2018/07/05/é‚£ä¸ªLLDBä½ çœŸçš„äº†è§£å—/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//zhz.disqus.com/count.js" async></script><div class="copyright"><p>Â© 2016 - 2018 <a href="http://www.zhz.io">HongZhi</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-82278125-1",'auto');ga('send','pageview');</script></body></html>